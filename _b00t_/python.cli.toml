[b00t]
name = "python"
type = "cli"
desires = "3.12.0"
install = '''
# Install Python 3.12+ using deadsnakes PPA on Ubuntu/Debian
# or pyenv on other systems

if command -v apt-get >/dev/null 2>&1; then
    # Ubuntu/Debian: Use deadsnakes PPA for latest Python
    echo "ðŸ“¦ Installing Python 3.12 via deadsnakes PPA..."
    apt-get update
    apt-get install -y software-properties-common
    add-apt-repository -y ppa:deadsnakes/ppa
    apt-get update
    apt-get install -y python3.12 python3.12-venv python3.12-dev python3-pip

    # Set python3 to point to python3.12
    update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.12 1
    update-alternatives --set python3 /usr/bin/python3.12
elif command -v brew >/dev/null 2>&1; then
    # macOS: Use Homebrew
    echo "ðŸ“¦ Installing Python 3.12 via Homebrew..."
    brew install python@3.12
    brew link python@3.12
else
    # Fallback: Use pyenv
    echo "ðŸ“¦ Installing Python 3.12 via pyenv..."
    if ! command -v pyenv >/dev/null 2>&1; then
        curl https://pyenv.run | bash
        export PATH="$HOME/.pyenv/bin:$PATH"
        eval "$(pyenv init -)"
    fi
    pyenv install 3.12.0
    pyenv global 3.12.0
fi

# Verify installation
python3 --version
'''
update = '''
# Update Python to latest 3.12.x
if command -v apt-get >/dev/null 2>&1; then
    apt-get update
    apt-get upgrade -y python3.12
elif command -v brew >/dev/null 2>&1; then
    brew upgrade python@3.12
else
    pyenv install 3.12.0
    pyenv global 3.12.0
fi
'''
version = "python3 --version"
version_regex = '(\d+\.\d+\.\d+)'
hint = "Python 3.12+ programming language - required for modern async features and type hints"
lfmf_category = "python"

[b00t.learn]
topic = "python"
auto_digest = false

[[b00t.usage]]
description = "Check Python version"
command = "python3 --version"

[[b00t.usage]]
description = "Create virtual environment"
command = "python3 -m venv .venv"

[[b00t.usage]]
description = "Run Python script"
command = "python3 script.py"
